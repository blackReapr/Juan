@using Juan.Interfaces
@inject ILayoutService layoutService
@{
    IEnumerable<CartVM> cartVM = await layoutService.GetCartAsync();
    IDictionary<string, string> settings = await layoutService.GetSettingsAsync();
    await layoutService.UpdateWishlistAsync();
}

<!DOCTYPE html>
<html class="no-js" lang="zxx">
<!-- Mirrored from demo.hasthemes.com/juan-preview-v1/juan/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 22:36:22 GMT -->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="meta description" />
    <title>Juan - Shoes Store HTML Template</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <!--=== Favicon ===-->
    <link rel="shortcut icon"
          href="~/assets/img/favicon.ico"
          type="image/x-icon" />
    <!--=== All Plugins CSS ===-->
    <link href="~/assets/css/plugins.css" rel="stylesheet" />
    <!--=== All Vendor CSS ===-->
    <link href="~/assets/css/vendor.css" rel="stylesheet" />
    <!--=== Main Style CSS ===-->
    <link href="~/assets/css/style.css" rel="stylesheet" />
    <!-- Modernizer JS -->
    <script src="~/assets/js/modernizr-2.8.3.min.js"></script>

    <!--[if lt IE 9]>
      <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <!-- Start Header Area -->
    @await Component.InvokeAsync("Header", cartVM)
    <!-- end Header Area -->
    <!-- off-canvas menu start -->
    <aside class="off-canvas-wrapper">
        <div class="off-canvas-overlay"></div>
        <div class="off-canvas-inner-content">
            <div class="btn-close-off-canvas">
                <i class="ion-android-close"></i>
            </div>

            <div class="off-canvas-inner">
                <!-- search box start -->
                <div class="search-box-offcanvas">
                    <form>
                        <input type="text" placeholder="Search Here..." />
                        <button class="search-btn">
                            <i class="ion-ios-search-strong"></i>
                        </button>
                    </form>
                </div>
                <!-- search box end -->
                <!-- mobile menu start -->
                <div class="mobile-navigation">
                    <!-- mobile menu navigation start -->
                    <nav>
                        <ul class="mobile-menu">
                            <li class="menu-item-has-children">
                                <a href="index.html">Home</a>
                                <ul class="dropdown">
                                    <li><a href="index.html">Home version 01</a></li>
                                    <li><a href="index-2.html">Home version 02</a></li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">pages</a>
                                <ul class="megamenu dropdown">
                                    <li class="mega-title menu-item-has-children">
                                        <a href="#">column 01</a>
                                        <ul class="dropdown">
                                            <li><a asp-controller="shop" asp-action="index">shop grid left sidebar</a></li>
                                            <li>
                                                <a href="shop-grid-right-sidebar.html">shop grid right sidebar</a>
                                            </li>
                                            <li>
                                                <a href="shop-list-left-sidebar.html">shop list left sidebar</a>
                                            </li>
                                            <li>
                                                <a href="shop-list-right-sidebar.html">shop list right sidebar</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="mega-title menu-item-has-children">
                                        <a href="#">column 02</a>
                                        <ul class="dropdown">
                                            <li>
                                                <a href="product-details.html">product details</a>
                                            </li>
                                            <li>
                                                <a href="product-details-affiliate.html">product details affiliate</a>
                                            </li>
                                            <li>
                                                <a href="product-details-variable.html">product details variable</a>
                                            </li>
                                            <li>
                                                <a href="product-details-group.html">product details group</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="mega-title menu-item-has-children">
                                        <a href="#">column 03</a>
                                        <ul class="dropdown">
                                            <li><a asp-controller="cart" asp-action="index">cart</a></li>
                                            <li><a asp-controller="checkout" asp-action="index">checkout</a></li>
                                            <li><a href="compare.html">compare</a></li>
                                            <li><a asp-controller="wishlist" asp-action="index">wishlist</a></li>
                                        </ul>
                                    </li>
                                    <li class="mega-title menu-item-has-children">
                                        <a href="#">column 04</a>
                                        <ul class="dropdown">
                                            <li><a href="my-account.html">my-account</a></li>
                                            <li>
                                                <a asp-controller="authentication" asp-action="login">login</a>
                                            </li>
                                            <li>
                                                <a asp-controller="authentication" asp-action="register">register</a>
                                            </li>
                                            <li><a href="contact-us.html">contact us</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">shop</a>
                                <ul class="dropdown">
                                    <li class="menu-item-has-children">
                                        <a href="#">shop grid layout</a>
                                        <ul class="dropdown">
                                            <li><a asp-controller="shop" asp-action="index">shop grid left sidebar</a></li>
                                            <li>
                                                <a href="shop-grid-right-sidebar.html">shop grid right sidebar</a>
                                            </li>
                                            <li>
                                                <a href="shop-grid-full-3-col.html">shop grid full 3 col</a>
                                            </li>
                                            <li>
                                                <a href="shop-grid-full-4-col.html">shop grid full 4 col</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item-has-children">
                                        <a href="#">shop list layout</a>
                                        <ul class="dropdown">
                                            <li>
                                                <a href="shop-list-left-sidebar.html">shop list left sidebar</a>
                                            </li>
                                            <li>
                                                <a href="shop-list-right-sidebar.html">shop list right sidebar</a>
                                            </li>
                                            <li>
                                                <a href="shop-list-full-width.html">shop list full width</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item-has-children">
                                        <a href="#">products details</a>
                                        <ul class="dropdown">
                                            <li>
                                                <a href="product-details.html">product details</a>
                                            </li>
                                            <li>
                                                <a href="product-details-affiliate.html">product details affiliate</a>
                                            </li>
                                            <li>
                                                <a href="product-details-variable.html">product details variable</a>
                                            </li>
                                            <li>
                                                <a href="product-details-group.html">product details group</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">Blog</a>
                                <ul class="dropdown">
                                    <li>
                                        <a href="blog-left-sidebar.html">blog left sidebar</a>
                                    </li>
                                    <li>
                                        <a href="blog-right-sidebar.html">blog right sidebar</a>
                                    </li>
                                    <li>
                                        <a href="blog-grid-full-width.html">blog grid no sidebar</a>
                                    </li>
                                    <li><a href="blog-details.html">blog details</a></li>
                                    <li>
                                        <a href="blog-details-audio.html">blog details audio</a>
                                    </li>
                                    <li>
                                        <a href="blog-details-video.html">blog details video</a>
                                    </li>
                                    <li>
                                        <a href="blog-details-left-sidebar.html">blog details left sidebar</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="contact-us.html">Contact us</a></li>
                        </ul>
                    </nav>
                    <!-- mobile menu navigation end -->
                </div>
                <!-- mobile menu end -->
                <!-- user setting option start -->
                <div class="mobile-settings">
                    <ul class="nav">
                        <li>
                            <div class="dropdown mobile-top-dropdown">
                                <a href="#"
                                   class="dropdown-toggle"
                                   id="currency"
                                   data-toggle="dropdown"
                                   aria-haspopup="true"
                                   aria-expanded="false">
                                    Currency
                                    <i class="fa fa-angle-down"></i>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="currency">
                                    <a class="dropdown-item" href="#">$ USD</a>
                                    <a class="dropdown-item" href="#">$ EURO</a>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="dropdown mobile-top-dropdown">
                                <a href="#"
                                   class="dropdown-toggle"
                                   id="myaccount"
                                   data-toggle="dropdown"
                                   aria-haspopup="true"
                                   aria-expanded="false">
                                    My Account
                                    <i class="fa fa-angle-down"></i>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="myaccount">
                                    <a class="dropdown-item" href="my-account.html">my account</a>
                                    <a class="dropdown-item" asp-controller="authentication" asp-action="login">
                                        login
                                    </a>
                                    <a class="dropdown-item" asp-controller="authentication" asp-action="register">register</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- user setting option end -->
                <!-- offcanvas widget area start -->
                <div class="offcanvas-widget-area">
                    <div class="off-canvas-contact-widget">
                        <ul>
                            <li>
                                <i class="fa fa-mobile"></i>
                                <a href="#">0123456789</a>
                            </li>
                            <li>
                                <i class="fa fa-envelope-o"></i>
                                <a href="#">info@yourdomain.com</a>
                            </li>
                        </ul>
                    </div>
                    <div class="off-canvas-social-widget">
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-pinterest-p"></i></a>
                        <a href="#"><i class="fa fa-linkedin"></i></a>
                        <a href="#"><i class="fa fa-youtube-play"></i></a>
                    </div>
                </div>
                <!-- offcanvas widget area end -->
            </div>
        </div>
    </aside>
    <!-- off-canvas menu end -->
    <!-- main wrapper start -->
    <main>
        @RenderBody()
    </main>
    <!-- main wrapper end -->
    <div class="modal" id="quick_view">
    </div>
    <!-- Start Footer Area Wrapper -->
    @await Component.InvokeAsync("Footer", settings)
    <!-- End Footer Area Wrapper -->
    <!-- offcanvas search form start -->
    <div class="offcanvas-search-wrapper">
        <div class="offcanvas-search-inner">
            <div class="offcanvas-close">
                <i class="ion-android-close"></i>
            </div>
            <div class="container">
                <div class="offcanvas-search-box">
                    <form class="d-flex bdr-bottom w-100">
                        <input type="text" placeholder="Search entire storage here..." />
                        <button class="search-btn">
                            <i class="ion-ios-search-strong"></i>search
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- offcanvas search form end -->
    <!-- offcanvas mini cart start -->
    <div class="offcanvas-minicart-wrapper">
        <div class="minicart-inner">
            <div class="offcanvas-overlay" id="cart">
                @await Html.PartialAsync("_CartPartial", cartVM)
            </div>
        </div>
    </div>
    <!-- offcanvas mini cart end -->
    <!-- Scroll to top start -->
    <div class="scroll-top not-visible">
        <i class="fa fa-angle-up"></i>
    </div>
    <!-- Axios -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.2/axios.min.js" integrity="sha512-JSCFHhKDilTRRXe9ak/FJ28dcpOJxzQaCd3Xg8MyF6XFjODhy/YMCM8HW0TFDckNHWUewW+kfvhin43hKtJxAw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Scroll to Top End -->
    <!--=======================Javascript============================-->
    <!--=== All Vendor Js ===-->
    <script src="~/assets/js/vendor.js"></script>
    <!--=== All Plugins Js ===-->
    <script src="~/assets/js/plugins.js"></script>
    <!--=== Active Js ===-->
    <script src="~/assets/js/active.js"></script>

    <!--=== Jquery validation ===-->
    @await Html.PartialAsync("_JqueryValidationScript")

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script>
        let removeProduct;
        if (location.href.split("/")[3] == "cart") {
            removeProduct = id => {
                const notification = document.querySelector(".notification");
                axios.delete("/cart/removeproduct/" + id).then(res => {
                    document.querySelector("#cart").innerHTML = res.data;
                    notification.innerHTML = document.querySelectorAll(".minicart-item").length;
                    toastr.options = {
                        'closeButton': true,
                        'debug': false,
                        'newestOnTop': false,
                        'progressBar': false,
                        'positionClass': 'toast-top-right',
                        'preventDuplicates': false,
                        'showDuration': '1000',
                        'hideDuration': '1000',
                        'timeOut': '5000',
                        'extendedTimeOut': '1000',
                        'showEasing': 'swing',
                        'hideEasing': 'linear',
                        'showMethod': 'fadeIn',
                        'hideMethod': 'fadeOut',
                    }
                    toastr.success("Product has successfully been removed from your cart!");
                    axios.get("/cart/cartindexpartial").then(res => {
                        document.querySelector("#cartContainer").innerHTML = res.data;
                    })
                })
            }
        }
        else if (location.href.split("/")[3] == "checkout") {
            removeProduct = id => {
                const notification = document.querySelector(".notification");
                axios.delete("/cart/removeproduct/" + id).then(res => {
                    document.querySelector("#cart").innerHTML = res.data;
                    notification.innerHTML = document.querySelectorAll(".minicart-item").length;
                    toastr.options = {
                        'closeButton': true,
                        'debug': false,
                        'newestOnTop': false,
                        'progressBar': false,
                        'positionClass': 'toast-top-right',
                        'preventDuplicates': false,
                        'showDuration': '1000',
                        'hideDuration': '1000',
                        'timeOut': '5000',
                        'extendedTimeOut': '1000',
                        'showEasing': 'swing',
                        'hideEasing': 'linear',
                        'showMethod': 'fadeIn',
                        'hideMethod': 'fadeOut',
                    }
                    toastr.success("Product has successfully been removed from your cart!");
                    axios.get("/checkout/checkoutpartial").then(res => {
                        document.querySelector("#orderTable").innerHTML = res.data;
                    })
                })
            }
        }
        else {
            removeProduct = id => {
                axios.delete("/cart/removeproduct/" + id).then(res => {
                    document.querySelector("#cart").innerHTML = res.data;
                    document.querySelector(".notification").innerHTML = document.querySelectorAll(".minicart-item").length;
                    toastr.success("Product removed from your cart!");
                })
            };

        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.7/signalr.min.js" integrity="sha512-7SRCYIJtR6F8ocwW7UxW6wGKqbSyqREDbfCORCbGLatU0iugBLwyOXpzhkPyHIFdBO0K2VCu57fvP2Twgx1o2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        const connection = new signalR.HubConnectionBuilder().withUrl("/statushub").build();
        connection.start();
        connection.on("statusUpdate", (message) => {
            toastr.options = {
                'closeButton': true,
                'debug': false,
                'newestOnTop': false,
                'progressBar': false,
                'positionClass': 'toast-top-right',
                'preventDuplicates': false,
                'showDuration': '1000',
                'hideDuration': '1000',
                'timeOut': '5000',
                'extendedTimeOut': '1000',
                'showEasing': 'swing',
                'hideEasing': 'linear',
                'showMethod': 'fadeIn',
                'hideMethod': 'fadeOut',
            }
            toastr.success(message);
        })
    </script>

    @RenderSection("Scripts", false)
</body>

<!-- Mirrored from demo.hasthemes.com/juan-preview-v1/juan/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 22:36:53 GMT -->
</html>
